# Generated by Django 2.2 on 2022-08-04 04:46

from django.conf import settings
import django.core.validators
from django.db import migrations, models
import django.db.models.deletion
import django_jalali.db.models


class Migration(migrations.Migration):

    initial = True

    dependencies = [
        migrations.swappable_dependency(settings.AUTH_USER_MODEL),
        ('companies', '0031_auto_20210718_1141'),
    ]

    operations = [
        migrations.CreateModel(
            name='Personnel',
            fields=[
                ('id', models.AutoField(auto_created=True, primary_key=True, serialize=False, verbose_name='ID')),
                ('created_at', django_jalali.db.models.jDateTimeField(blank=True, editable=False, null=True)),
                ('updated_at', django_jalali.db.models.jDateTimeField(blank=True, editable=False, null=True)),
                ('is_auto_created', models.BooleanField(default=False)),
                ('is_defined', models.BooleanField(default=False)),
                ('definition_date', models.DateTimeField(blank=True, null=True)),
                ('is_locked', models.BooleanField(default=False)),
                ('lock_date', models.DateTimeField(blank=True, null=True)),
                ('name', models.CharField(max_length=255)),
                ('last_name', models.CharField(max_length=255)),
                ('father_name', models.CharField(max_length=255)),
                ('country', models.CharField(blank=True, max_length=50, null=True)),
                ('nationality', models.CharField(choices=[('i', 'ایرانی'), ('o', 'غیر ایرانی')], default='i', max_length=1)),
                ('personnel_code', models.IntegerField(unique=True)),
                ('gender', models.CharField(choices=[('m', 'آقا'), ('f', 'خانم')], default='m', max_length=1)),
                ('military_service', models.CharField(choices=[('d', 'انجام داده'), ('n', 'انجام نداده'), ('e', 'معاف')], default='n', max_length=1)),
                ('national_code', models.IntegerField(unique=True, validators=[django.core.validators.MinLengthValidator(limit_value=9, message='کد ملی باید ده رقم باشد'), django.core.validators.MaxLengthValidator(limit_value=11, message='کد ملی باید ده رقم باشد')])),
                ('identity_code', models.IntegerField(unique=True)),
                ('date_of_birth', django_jalali.db.models.jDateField()),
                ('date_of_exportation', django_jalali.db.models.jDateField()),
                ('marital_status', models.CharField(choices=[('s', 'مجرد'), ('m', 'متاهل'), ('c', 'سرپرست فرزند')], default='s', max_length=1)),
                ('number_of_childes', models.IntegerField(default=0)),
                ('city_phone_code', models.IntegerField()),
                ('phone_number', models.IntegerField()),
                ('mobile_number_1', models.IntegerField(validators=[django.core.validators.RegexValidator(message='phone number format: 09*********', regex='^(09){1}[0-9]{9}$')])),
                ('mobile_number_2', models.IntegerField(blank=True, null=True, validators=[django.core.validators.RegexValidator(message='phone number format: 09*********', regex='^(09){1}[0-9]{9}$')])),
                ('address', models.CharField(max_length=255)),
                ('postal_code', models.CharField(max_length=10, validators=[django.core.validators.RegexValidator(code='nomatch', message='طول کد پستی باید 10 رقم باشد', regex='^.{10}$')])),
                ('insurance', models.BooleanField(default=False)),
                ('insurance_code', models.IntegerField(blank=True, null=True)),
                ('degree_of_education', models.CharField(choices=[('un', 'زیر دیپلم'), ('di', 'دیپلم'), ('as', 'کاردانی'), ('ba', 'لیسانس'), ('ma', 'فوق لیسانس'), ('do', 'دکترا')], default='di', max_length=2)),
                ('field_of_study', models.CharField(max_length=100)),
                ('university_type', models.CharField(blank=True, choices=[('st', 'دولتی'), ('op', 'آزاد'), ('NP', 'غیر انتفاعی')], max_length=2, null=True)),
                ('university_name', models.CharField(blank=True, max_length=50, null=True)),
                ('account_bank_name', models.CharField(blank=True, max_length=50, null=True)),
                ('account_bank_number', models.IntegerField(blank=True, null=True)),
                ('sheba_number', models.IntegerField(blank=True, null=True)),
                ('is_personnel_active', models.BooleanField(default=False)),
                ('company', models.ForeignKey(on_delete=django.db.models.deletion.CASCADE, related_name='personnel', to='companies.Company')),
                ('created_by', models.ForeignKey(null=True, on_delete=django.db.models.deletion.PROTECT, related_name='+', to=settings.AUTH_USER_MODEL)),
                ('defined_by', models.ForeignKey(blank=True, null=True, on_delete=django.db.models.deletion.PROTECT, related_name='+', to=settings.AUTH_USER_MODEL)),
                ('locked_by', models.ForeignKey(blank=True, null=True, on_delete=django.db.models.deletion.PROTECT, related_name='+', to=settings.AUTH_USER_MODEL)),
            ],
            options={
                'verbose_name': 'Personnel',
                'ordering': ['-pk'],
                'permissions': (('get.personnel', 'مشاهده پرسنل'), ('create.personnel', 'تعریف پرسنل'), ('update.personnel', 'ویرایش پرسنل'), ('delete.personnel', 'حذف پرسنل'), ('getOwn.personnel', 'مشاهده پرسنل خود'), ('updateOwn.personnel', 'ویرایش پرسنل خود'), ('deleteOwn.personnel', 'حذف پرسنل خود')),
                'get_latest_by': 'pk',
                'abstract': False,
                'default_permissions': (),
            },
        ),
        migrations.CreateModel(
            name='Workshop',
            fields=[
                ('id', models.AutoField(auto_created=True, primary_key=True, serialize=False, verbose_name='ID')),
                ('created_at', django_jalali.db.models.jDateTimeField(blank=True, editable=False, null=True)),
                ('updated_at', django_jalali.db.models.jDateTimeField(blank=True, editable=False, null=True)),
                ('is_auto_created', models.BooleanField(default=False)),
                ('is_defined', models.BooleanField(default=False)),
                ('definition_date', models.DateTimeField(blank=True, null=True)),
                ('is_locked', models.BooleanField(default=False)),
                ('lock_date', models.DateTimeField(blank=True, null=True)),
                ('code', models.IntegerField()),
                ('name', models.CharField(max_length=100)),
                ('employer_name', models.CharField(max_length=100)),
                ('address', models.CharField(max_length=255)),
                ('employer_insurance_contribution', models.IntegerField(validators=[django.core.validators.MinLengthValidator(limit_value=0, message='درصد صحیح نبست'), django.core.validators.MaxLengthValidator(limit_value=3, message='درصد صحیح نبست')])),
                ('branch_code', models.IntegerField(blank=True, null=True)),
                ('branch_name', models.CharField(blank=True, max_length=100, null=True)),
                ('company', models.ForeignKey(on_delete=django.db.models.deletion.CASCADE, related_name='workshop', to='companies.Company')),
                ('created_by', models.ForeignKey(null=True, on_delete=django.db.models.deletion.PROTECT, related_name='+', to=settings.AUTH_USER_MODEL)),
                ('defined_by', models.ForeignKey(blank=True, null=True, on_delete=django.db.models.deletion.PROTECT, related_name='+', to=settings.AUTH_USER_MODEL)),
                ('locked_by', models.ForeignKey(blank=True, null=True, on_delete=django.db.models.deletion.PROTECT, related_name='+', to=settings.AUTH_USER_MODEL)),
            ],
            options={
                'verbose_name': 'Workshop',
                'ordering': ['-pk'],
                'permissions': (('get.workshop', 'مشاهده کارگاه'), ('create.workshop', 'تعریف کارگاه'), ('update.workshop', 'ویرایش کارگاه'), ('delete.workshop', 'حذف کارگاه'), ('getOwn.workshop', 'مشاهده کارگاه خود'), ('updateOwn.workshop', 'ویرایش کارگاه خود'), ('deleteOwn.workshop', 'حذف کارگاه خود')),
                'get_latest_by': 'pk',
                'abstract': False,
                'default_permissions': (),
            },
        ),
        migrations.CreateModel(
            name='WorkshopPersonnel',
            fields=[
                ('id', models.AutoField(auto_created=True, primary_key=True, serialize=False, verbose_name='ID')),
                ('created_at', django_jalali.db.models.jDateTimeField(blank=True, editable=False, null=True)),
                ('updated_at', django_jalali.db.models.jDateTimeField(blank=True, editable=False, null=True)),
                ('is_auto_created', models.BooleanField(default=False)),
                ('is_defined', models.BooleanField(default=False)),
                ('definition_date', models.DateTimeField(blank=True, null=True)),
                ('is_locked', models.BooleanField(default=False)),
                ('lock_date', models.DateTimeField(blank=True, null=True)),
                ('insurance', models.BooleanField(default=False)),
                ('insurance_add_date', django_jalali.db.models.jDateField(blank=True, null=True)),
                ('work_title', models.CharField(blank=True, max_length=100, null=True)),
                ('previous_insurance_history_out_workshop', models.IntegerField()),
                ('previous_insurance_history_in_workshop', models.IntegerField()),
                ('current_insurance_history_in_workshop', models.IntegerField()),
                ('insurance_history_totality', models.IntegerField()),
                ('job_position', models.CharField(max_length=100)),
                ('job_group', models.CharField(max_length=100)),
                ('job_location', models.CharField(max_length=100)),
                ('job_location_status', models.CharField(max_length=100)),
                ('employment_type', models.CharField(choices=[('c', 'قراردادی'), ('p', 'رسمی')], default='c', max_length=1)),
                ('contract_type', models.CharField(choices=[('p', 'پاره وقت'), ('f', 'تمام وقت')], default='f', max_length=1)),
                ('employee_status', models.CharField(max_length=100)),
                ('Personnel', models.ForeignKey(on_delete=django.db.models.deletion.CASCADE, related_name='workshop_personnel', to='payroll.Personnel')),
                ('created_by', models.ForeignKey(null=True, on_delete=django.db.models.deletion.PROTECT, related_name='+', to=settings.AUTH_USER_MODEL)),
                ('defined_by', models.ForeignKey(blank=True, null=True, on_delete=django.db.models.deletion.PROTECT, related_name='+', to=settings.AUTH_USER_MODEL)),
                ('locked_by', models.ForeignKey(blank=True, null=True, on_delete=django.db.models.deletion.PROTECT, related_name='+', to=settings.AUTH_USER_MODEL)),
                ('workshop', models.ForeignKey(on_delete=django.db.models.deletion.CASCADE, related_name='workshop_personnel', to='payroll.Workshop')),
            ],
            options={
                'verbose_name': 'WorkshopPersonnel',
                'ordering': ['-pk'],
                'permissions': (('get.workshop_personnel', 'مشاهده پرسنل کارگاه'), ('create.workshop_personnel', 'تعریف پرسنل کارگاه'), ('update.workshop_personnel', 'ویرایش پرسنل کارگاه'), ('delete.workshop_personnel', 'حذف پرسنل کارگاه'), ('getOwn.workshop_personnel', 'مشاهده پرسنل کارگاه خود'), ('updateOwn.workshop_personnel', 'ویرایش پرسنل کارگاه خود'), ('deleteOwn.workshop_personnel', 'حذف پرسنل کارگاه خود')),
                'get_latest_by': 'pk',
                'abstract': False,
                'default_permissions': (),
            },
        ),
        migrations.CreateModel(
            name='PersonnelFamily',
            fields=[
                ('id', models.AutoField(auto_created=True, primary_key=True, serialize=False, verbose_name='ID')),
                ('created_at', django_jalali.db.models.jDateTimeField(blank=True, editable=False, null=True)),
                ('updated_at', django_jalali.db.models.jDateTimeField(blank=True, editable=False, null=True)),
                ('is_auto_created', models.BooleanField(default=False)),
                ('is_defined', models.BooleanField(default=False)),
                ('definition_date', models.DateTimeField(blank=True, null=True)),
                ('is_locked', models.BooleanField(default=False)),
                ('lock_date', models.DateTimeField(blank=True, null=True)),
                ('row', models.IntegerField()),
                ('name', models.CharField(max_length=255)),
                ('last_name', models.CharField(max_length=255)),
                ('national_code', models.IntegerField(unique=True, validators=[django.core.validators.MinLengthValidator(limit_value=9, message='کد ملی باید ده رقم باشد'), django.core.validators.MaxLengthValidator(limit_value=11, message='کد ملی باید ده رقم باشد')])),
                ('date_of_birth', django_jalali.db.models.jDateField()),
                ('relative', models.CharField(choices=[('f', 'پدر'), ('m', 'مادر'), ('c', 'فرزند'), ('s', 'همسر')], default='s', max_length=1)),
                ('marital_status', models.CharField(choices=[('s', 'مجرد'), ('m', 'متاهل'), ('c', 'سرپرست فرزند')], default='s', max_length=1)),
                ('military_service', models.CharField(choices=[('d', 'انجام داده'), ('n', 'انجام نداده'), ('e', 'معاف')], default='n', max_length=1)),
                ('study_status', models.CharField(choices=[('s', 'محصل'), ('n', 'غیر محصل')], default='s', max_length=1)),
                ('physical_condition', models.CharField(choices=[('h', 'سالم'), ('p', 'بیمار'), ('m', 'نفص عضو')], default='h', max_length=1)),
                ('Personnel', models.ForeignKey(on_delete=django.db.models.deletion.CASCADE, related_name='personnel_family', to='payroll.Personnel')),
                ('created_by', models.ForeignKey(null=True, on_delete=django.db.models.deletion.PROTECT, related_name='+', to=settings.AUTH_USER_MODEL)),
                ('defined_by', models.ForeignKey(blank=True, null=True, on_delete=django.db.models.deletion.PROTECT, related_name='+', to=settings.AUTH_USER_MODEL)),
                ('locked_by', models.ForeignKey(blank=True, null=True, on_delete=django.db.models.deletion.PROTECT, related_name='+', to=settings.AUTH_USER_MODEL)),
            ],
            options={
                'verbose_name': 'PersonnelFamily',
                'ordering': ['-pk'],
                'permissions': (('get.personnel_family', 'مشاهده خانواده پرسنل'), ('create.personnel_family', 'تعریف خانواده پرسنل'), ('update.personnel_family', 'ویرایش خانواده پرسنل'), ('delete.personnel_family', 'حذف خانواده پرسنل'), ('getOwn.personnel_family', 'مشاهده خانواده پرسنل خود'), ('updateOwn.personnel_family', 'ویرایش خانواده پرسنل خود'), ('deleteOwn.personnel_family', 'حذف خانواده پرسنل خود')),
                'get_latest_by': 'pk',
                'abstract': False,
                'default_permissions': (),
            },
        ),
        migrations.CreateModel(
            name='ContractTime',
            fields=[
                ('id', models.AutoField(auto_created=True, primary_key=True, serialize=False, verbose_name='ID')),
                ('created_at', django_jalali.db.models.jDateTimeField(blank=True, editable=False, null=True)),
                ('updated_at', django_jalali.db.models.jDateTimeField(blank=True, editable=False, null=True)),
                ('is_auto_created', models.BooleanField(default=False)),
                ('is_defined', models.BooleanField(default=False)),
                ('definition_date', models.DateTimeField(blank=True, null=True)),
                ('is_locked', models.BooleanField(default=False)),
                ('lock_date', models.DateTimeField(blank=True, null=True)),
                ('code', models.IntegerField()),
                ('contract_from_date', django_jalali.db.models.jDateField()),
                ('contract_to_date', django_jalali.db.models.jDateField()),
                ('quit_job_date', django_jalali.db.models.jDateField(blank=True, null=True)),
                ('created_by', models.ForeignKey(null=True, on_delete=django.db.models.deletion.PROTECT, related_name='+', to=settings.AUTH_USER_MODEL)),
                ('defined_by', models.ForeignKey(blank=True, null=True, on_delete=django.db.models.deletion.PROTECT, related_name='+', to=settings.AUTH_USER_MODEL)),
                ('locked_by', models.ForeignKey(blank=True, null=True, on_delete=django.db.models.deletion.PROTECT, related_name='+', to=settings.AUTH_USER_MODEL)),
                ('workshop_personnel', models.ForeignKey(on_delete=django.db.models.deletion.CASCADE, related_name='contract_time', to='payroll.WorkshopPersonnel')),
            ],
            options={
                'verbose_name': 'ContractTime',
                'ordering': ['-pk'],
                'permissions': (('get.contract_time', 'مشاهده قرارداد کارگاه'), ('create.contract_time', 'تعریف قرارداد کارگاه'), ('update.contract_time', 'ویرایش قرارداد کارگاه'), ('delete.contract_time', 'حذف قرارداد کارگاه'), ('getOwn.contract_time', 'مشاهده قرارداد کارگاه خود'), ('updateOwn.contract_time', 'ویرایش قرارداد کارگاه خود'), ('deleteOwn.contract_time', 'حذف قرارداد کارگاه خود')),
                'get_latest_by': 'pk',
                'abstract': False,
                'default_permissions': (),
            },
        ),
        migrations.CreateModel(
            name='ContractRow',
            fields=[
                ('id', models.AutoField(auto_created=True, primary_key=True, serialize=False, verbose_name='ID')),
                ('created_at', django_jalali.db.models.jDateTimeField(blank=True, editable=False, null=True)),
                ('updated_at', django_jalali.db.models.jDateTimeField(blank=True, editable=False, null=True)),
                ('is_auto_created', models.BooleanField(default=False)),
                ('is_defined', models.BooleanField(default=False)),
                ('definition_date', models.DateTimeField(blank=True, null=True)),
                ('is_locked', models.BooleanField(default=False)),
                ('lock_date', models.DateTimeField(blank=True, null=True)),
                ('contract_row', models.IntegerField()),
                ('contract_number', models.IntegerField()),
                ('registration_date', django_jalali.db.models.jDateField(blank=True, null=True)),
                ('from_date', django_jalali.db.models.jDateField(blank=True, null=True)),
                ('to_date', django_jalali.db.models.jDateField(blank=True, null=True)),
                ('is_activate', models.BooleanField(default=False)),
                ('assignor_name', models.CharField(blank=True, max_length=100, null=True)),
                ('assignor_national_code', models.IntegerField(unique=True, validators=[django.core.validators.MinLengthValidator(limit_value=9, message='کد ملی باید ده رقم باشد'), django.core.validators.MaxLengthValidator(limit_value=11, message='کد ملی باید ده رقم باشد')])),
                ('assignor_workshop_code', models.IntegerField()),
                ('contract_initial_amount', models.DecimalField(decimal_places=6, default=0, max_digits=24)),
                ('branch', models.CharField(blank=True, max_length=100, null=True)),
                ('created_by', models.ForeignKey(null=True, on_delete=django.db.models.deletion.PROTECT, related_name='+', to=settings.AUTH_USER_MODEL)),
                ('defined_by', models.ForeignKey(blank=True, null=True, on_delete=django.db.models.deletion.PROTECT, related_name='+', to=settings.AUTH_USER_MODEL)),
                ('locked_by', models.ForeignKey(blank=True, null=True, on_delete=django.db.models.deletion.PROTECT, related_name='+', to=settings.AUTH_USER_MODEL)),
                ('workshop', models.ForeignKey(on_delete=django.db.models.deletion.CASCADE, related_name='contract_row', to='payroll.Workshop')),
            ],
            options={
                'verbose_name': 'ContractRow',
                'ordering': ['-pk'],
                'permissions': (('get.contract_row', 'مشاهده ردیف پیمان'), ('create.contract_row', 'تعریف ردیف پیمان'), ('update.contract_row', 'ویرایش ردیف پیمان'), ('delete.contract_row', 'حذف ردیف پیمان'), ('getOwn.contract_row', 'مشاهده ردیف پیمان خود'), ('updateOwn.contract_row', 'ویرایش ردیف پیمان خود'), ('deleteOwn.contract_row', 'حذف ردیف پیمان خود')),
                'get_latest_by': 'pk',
                'abstract': False,
                'default_permissions': (),
            },
        ),
    ]
